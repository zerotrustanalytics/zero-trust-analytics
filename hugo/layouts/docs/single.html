{{ define "main" }}
<!-- Docs Breadcrumb -->
<nav class="bg-light py-2 border-bottom">
  <div class="container">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb mb-0 small">
        <li class="breadcrumb-item"><a href="/" class="text-decoration-none">Home</a></li>
        <li class="breadcrumb-item"><a href="/docs/" class="text-decoration-none">Docs</a></li>
        {{ if .Parent }}
        {{ if ne .Parent.RelPermalink "/docs/" }}
        <li class="breadcrumb-item"><a href="{{ .Parent.RelPermalink }}" class="text-decoration-none">{{ .Parent.Title }}</a></li>
        {{ end }}
        {{ end }}
        <li class="breadcrumb-item active" aria-current="page">{{ .Title }}</li>
      </ol>
    </nav>
  </div>
</nav>

<div class="container py-5">
  <div class="row">
    <!-- Sidebar Navigation -->
    <div class="col-lg-3 mb-4">
      <nav class="docs-sidebar sticky-top" style="top: 20px;">
        <h6 class="text-uppercase text-muted fw-bold mb-3">Getting Started</h6>
        <ul class="nav flex-column mb-4">
          <li class="nav-item"><a href="/docs/" class="nav-link">Overview</a></li>
          <li class="nav-item"><a href="/docs/quickstart/" class="nav-link {{ if eq .RelPermalink "/docs/quickstart/" }}active fw-bold{{ end }}">Quick Start</a></li>
          <li class="nav-item"><a href="/docs/installation/" class="nav-link {{ if eq .RelPermalink "/docs/installation/" }}active fw-bold{{ end }}">Installation</a></li>
        </ul>

        <h6 class="text-uppercase text-muted fw-bold mb-3">Tracking</h6>
        <ul class="nav flex-column mb-4">
          <li class="nav-item"><a href="/docs/tracking-script/" class="nav-link {{ if eq .RelPermalink "/docs/tracking-script/" }}active fw-bold{{ end }}">Tracking Script</a></li>
          <li class="nav-item"><a href="/docs/custom-events/" class="nav-link {{ if eq .RelPermalink "/docs/custom-events/" }}active fw-bold{{ end }}">Custom Events</a></li>
          <li class="nav-item"><a href="/docs/spa-support/" class="nav-link {{ if eq .RelPermalink "/docs/spa-support/" }}active fw-bold{{ end }}">SPA Support</a></li>
        </ul>

        <h6 class="text-uppercase text-muted fw-bold mb-3">API Reference</h6>
        <ul class="nav flex-column mb-4">
          <li class="nav-item"><a href="/docs/api/authentication/" class="nav-link {{ if eq .RelPermalink "/docs/api/authentication/" }}active fw-bold{{ end }}">Authentication</a></li>
          <li class="nav-item"><a href="/docs/api/track/" class="nav-link {{ if eq .RelPermalink "/docs/api/track/" }}active fw-bold{{ end }}">Track Endpoint</a></li>
          <li class="nav-item"><a href="/docs/api/stats/" class="nav-link {{ if eq .RelPermalink "/docs/api/stats/" }}active fw-bold{{ end }}">Stats Endpoint</a></li>
          <li class="nav-item"><a href="/docs/api/realtime/" class="nav-link {{ if eq .RelPermalink "/docs/api/realtime/" }}active fw-bold{{ end }}">Realtime Endpoint</a></li>
          <li class="nav-item"><a href="/docs/api/export/" class="nav-link {{ if eq .RelPermalink "/docs/api/export/" }}active fw-bold{{ end }}">Export Endpoint</a></li>
        </ul>

        <h6 class="text-uppercase text-muted fw-bold mb-3">Privacy</h6>
        <ul class="nav flex-column">
          <li class="nav-item"><a href="/docs/privacy-model/" class="nav-link {{ if eq .RelPermalink "/docs/privacy-model/" }}active fw-bold{{ end }}">Privacy Model</a></li>
          <li class="nav-item"><a href="/docs/data-collected/" class="nav-link {{ if eq .RelPermalink "/docs/data-collected/" }}active fw-bold{{ end }}">Data Collected</a></li>
          <li class="nav-item"><a href="/docs/gdpr-ccpa/" class="nav-link {{ if eq .RelPermalink "/docs/gdpr-ccpa/" }}active fw-bold{{ end }}">GDPR & CCPA</a></li>
        </ul>
      </nav>
    </div>

    <!-- Main Content -->
    <div class="col-lg-9">
      <article class="docs-content">
        <h1 class="mb-4">{{ .Title }}</h1>
        {{ with .Params.description }}
        <p class="lead text-muted mb-4">{{ . }}</p>
        {{ end }}

        <div class="docs-body">
          {{ .Content }}
        </div>

        <!-- Navigation -->
        <div class="d-flex justify-content-between mt-5 pt-4 border-top">
          {{ with .PrevInSection }}
          <a href="{{ .RelPermalink }}" class="btn btn-outline-secondary">
            <i class="fas fa-arrow-left me-2"></i>{{ .Title }}
          </a>
          {{ else }}
          <span></span>
          {{ end }}

          {{ with .NextInSection }}
          <a href="{{ .RelPermalink }}" class="btn btn-outline-primary">
            {{ .Title }}<i class="fas fa-arrow-right ms-2"></i>
          </a>
          {{ end }}
        </div>
      </article>
    </div>
  </div>
</div>

<style>
.docs-sidebar .nav-link {
  color: #495057;
  padding: 0.5rem 0;
  border-left: 2px solid transparent;
  padding-left: 1rem;
  margin-left: -1rem;
}
.docs-sidebar .nav-link:hover {
  color: #0d6efd;
  border-left-color: #0d6efd;
}
.docs-sidebar .nav-link.active {
  color: #0d6efd;
  border-left-color: #0d6efd;
}
.docs-body h2 {
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid #e9ecef;
}
.docs-body h3 {
  margin-top: 2rem;
  margin-bottom: 0.75rem;
}
.docs-body pre {
  background: #1e1e1e;
  color: #d4d4d4;
  padding: 1.5rem;
  border-radius: 8px;
  overflow-x: auto;
  margin: 1.5rem 0;
}
.docs-body code {
  background: #f8f9fa;
  padding: 0.2rem 0.4rem;
  border-radius: 4px;
  font-size: 0.9em;
  color: #e83e8c;
}
.docs-body pre code {
  background: none;
  padding: 0;
  color: inherit;
}
.docs-body table {
  width: 100%;
  margin: 1.5rem 0;
  border-collapse: collapse;
}
.docs-body th, .docs-body td {
  padding: 0.75rem;
  border: 1px solid #dee2e6;
  text-align: left;
}
.docs-body th {
  background: #f8f9fa;
  font-weight: 600;
}
.docs-body .alert {
  margin: 1.5rem 0;
}

/* Dark mode styles for docs */
[data-theme="dark"] .docs-sidebar .nav-link {
  color: #d4d4d8;
}
[data-theme="dark"] .docs-sidebar .nav-link:hover,
[data-theme="dark"] .docs-sidebar .nav-link.active {
  color: #60a5fa;
  border-left-color: #60a5fa;
}
[data-theme="dark"] .docs-sidebar h6.text-muted {
  color: #9ca3af !important;
}
[data-theme="dark"] .docs-content h1 {
  color: var(--zta-text, #e9ecef);
}
[data-theme="dark"] .docs-content .text-muted {
  color: #d4d4d8 !important;
}
[data-theme="dark"] .docs-body {
  color: var(--zta-text, #e9ecef);
}
[data-theme="dark"] .docs-body h2 {
  color: var(--zta-text, #e9ecef);
  border-bottom-color: var(--zta-border, #495057);
}
[data-theme="dark"] .docs-body h3 {
  color: var(--zta-text, #e9ecef);
}
[data-theme="dark"] .docs-body code {
  background: var(--zta-bg-tertiary, #2c3034);
  color: #f472b6;
}
[data-theme="dark"] .docs-body th,
[data-theme="dark"] .docs-body td {
  border-color: var(--zta-border, #495057);
  color: var(--zta-text, #e9ecef);
}
[data-theme="dark"] .docs-body th {
  background: var(--zta-bg-tertiary, #2c3034);
}
[data-theme="dark"] .breadcrumb-item a {
  color: var(--zta-text, #e9ecef);
}
[data-theme="dark"] .breadcrumb-item.active {
  color: var(--zta-text-muted, #adb5bd);
}
[data-theme="dark"] .breadcrumb-item + .breadcrumb-item::before {
  color: var(--zta-text-muted, #adb5bd);
}
[data-theme="dark"] .btn-outline-secondary {
  color: #d4d4d8;
  border-color: var(--zta-border, #495057);
}
[data-theme="dark"] .btn-outline-secondary:hover {
  background-color: var(--zta-bg-tertiary, #2c3034);
  color: var(--zta-text, #e9ecef);
}
</style>
{{ end }}
