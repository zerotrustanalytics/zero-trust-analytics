# ============================================
# Zero Trust Analytics - Self-Hosted Config
# ============================================
# Copy this file to docker/.env and configure for your deployment

# ============================================
# REQUIRED: Server Configuration
# ============================================

# The URL where your instance will be accessible
SITE_URL=http://localhost:3000

# Port to run the server on (default: 3000)
PORT=3000

# Node environment (production or development)
NODE_ENV=production

# ============================================
# REQUIRED: Security Secrets
# ============================================
# Generate strong random secrets for production!
# Example: openssl rand -hex 32

# Secret for hashing visitor identities (CHANGE THIS!)
HASH_SECRET=your-random-secret-minimum-32-characters-long

# Secret for JWT token signing (CHANGE THIS!)
JWT_SECRET=your-jwt-secret-minimum-32-characters-long

# ============================================
# Database Configuration
# ============================================

# SQLite database path (default: /app/data/analytics.db)
DATABASE_PATH=/app/data/analytics.db

# Optional: Use PostgreSQL instead of SQLite for higher scale
# Uncomment and set these if using PostgreSQL
# DATABASE_URL=postgresql://user:password@postgres:5432/zta
# POSTGRES_USER=zta
# POSTGRES_PASSWORD=your-secure-password
# POSTGRES_DB=zta

# ============================================
# Email Service (for password resets)
# ============================================
# Configure at least ONE email provider

# Option 1: Resend (recommended)
# Sign up at https://resend.com
RESEND_API_KEY=

# Option 2: SendGrid (alternative)
# Sign up at https://sendgrid.com
SENDGRID_API_KEY=

# From email address
FROM_EMAIL=noreply@yourdomain.com

# ============================================
# OPTIONAL: Stripe Integration
# ============================================
# Only needed if you want to charge for analytics service
# Leave empty for free self-hosted use

STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PRICE_ID=

# ============================================
# OPTIONAL: Feature Flags
# ============================================

# Allow new user registrations (true/false)
ENABLE_REGISTRATION=true

# Maximum sites per user (for self-hosting, can be unlimited)
MAX_SITES_PER_USER=999

# ============================================
# OPTIONAL: Advanced Settings
# ============================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Rate limiting (requests per minute)
RATE_LIMIT_TRACKING=1000
RATE_LIMIT_API=100
RATE_LIMIT_AUTH=10

# Session timeout (in seconds)
SESSION_TIMEOUT=86400

# ============================================
# SSL/HTTPS Configuration (with nginx)
# ============================================
# If using Let's Encrypt with Certbot

# Your domain name
DOMAIN=analytics.yourdomain.com

# Email for Let's Encrypt notifications
LETSENCRYPT_EMAIL=admin@yourdomain.com
